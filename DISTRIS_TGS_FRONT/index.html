<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <title>Panel Distribuidores TGS</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <header>
      <h1>Panel distribuidores – TGS</h1>
    </header>

    <main>
      <!-- LOGIN -->
      <section id="login-section">
        <h2>Iniciar sesión</h2>
        <form id="login-form">
          <label for="email">Email</label>
          <input type="email" id="email" autocomplete="username" />

          <label for="password">Contraseña</label>
          <input
            type="password"
            id="password"
            autocomplete="current-password"
          />

          <button type="submit">Ingresar</button>
          <p id="login-message" class="message"></p>
        </form>
        <p class="hint">
          Iniciá sesión con un usuario cargado en el backend para usar el panel.
        </p>
      </section>

      <!-- DASHBOARD -->
      <section id="dashboard">
        <nav class="top-nav">
          <span id="user-info"></span>
          <button id="logout-btn" class="secondary-btn">Cerrar sesión</button>
        </nav>

        <!-- TABS -->
        <div class="tabs">
          <button class="tab-button active" data-tab="tab-sync">
            Servicios de sincronización
          </button>
          <button class="tab-button" data-tab="tab-newbytes">
            Productos NewBytes
          </button>
          <button class="tab-button" data-tab="tab-gruponucleo">
            Productos Grupo Núcleo
          </button>
          <button class="tab-button" data-tab="tab-tgs">
            Productos TGS
          </button>
          <!-- NUEVO: buscador global -->
          <button class="tab-button" data-tab="tab-global">
            Buscar en todos
          </button>
          <button class="tab-button" data-tab="tab-elit">
            Productos ELIT
          </button>
          <button class="tab-button" data-tab="tab-users" id="tab-users-btn">
            Usuarios
          </button>
        </div>

        <!-- TAB: SYNC -->
        <section id="tab-sync" class="tab active">
          <h2>Servicios de sincronización</h2>
          <p>Desde acá podés disparar la actualización de catálogos.</p>
          <div class="actions">
            <button id="btn-sync-nb">Sincronizar NewBytes</button>
            <button id="btn-sync-gn">Sincronizar Grupo Núcleo</button>
            <button id="btn-sync-tgs">Sincronizar TGS</button>
            <button id="btn-sync-elit">Sincronizar ELIT</button>
          </div>
          <pre id="sync-result"></pre>
        </section>

        <!-- TAB: NEWBYTES -->
        <section id="tab-newbytes" class="tab">
          <h2>Catálogo NewBytes</h2>
          <div class="search-bar">
            <input
              type="text"
              id="search-nb"
              placeholder="Buscar por texto, marca o categoría"
            />
            <button id="btn-search-nb">Buscar</button>
          </div>
          <ul id="newbytes-list" class="product-list"></ul>
        </section>

        <!-- TAB: GRUPO NÚCLEO -->
        <section id="tab-gruponucleo" class="tab">
          <h2>Catálogo Grupo Núcleo</h2>
          <div class="search-bar">
            <input
              type="text"
              id="search-gn"
              placeholder="Buscar por descripción, marca o categoría"
            />
            <button id="btn-search-gn">Buscar</button>
          </div>
          <ul id="gruponucleo-list" class="product-list"></ul>
        </section>

        <!-- TAB: TGS -->
        <section id="tab-tgs" class="tab">
          <h2>Catálogo TGS</h2>
          <p class="hint">
            Estos datos salen de tu API de TGS (tabla <code>TgsProduct</code>
            vía Prisma).
          </p>
          <div class="search-bar">
            <input
              type="text"
              id="search-tgs"
              placeholder="Buscar por nombre, categoría o SKU"
            />
            <button id="btn-search-tgs">Buscar</button>
          </div>
          <ul id="tgs-list" class="product-list"></ul>
        </section>

        <!-- TAB: BUSCADOR GLOBAL -->
        <section id="tab-global" class="tab">
          <h2>Buscador global</h2>
          <p class="hint">
            Escribí un término y buscamos en todos los distribuidores
            soportados (NewBytes, Grupo Núcleo, TGS y ELIT).
          </p>
          <div class="search-bar">
            <input
              type="text"
              id="search-global"
              placeholder="Ej: HyperX, RTX 4060, Ryzen 5..."
            />
            <button id="btn-search-global">Buscar</button>
          </div>
          <ul id="global-list" class="product-list"></ul>
        </section>

        <!-- TAB: ELIT -->
        <section id="tab-elit" class="tab">
          <h2>Catálogo ELIT</h2>
          <p class="hint">
            Productos traídos desde la API de ELIT y guardados en
            <code>ElitProduct</code>.
          </p>
          <div class="search-bar">
            <input
              type="text"
              id="search-elit"
              placeholder="Buscar por nombre, marca o código"
            />
            <button id="btn-search-elit">Buscar</button>
          </div>
          <ul id="elit-list" class="product-list"></ul>
        </section>

        <!-- TAB: USUARIOS -->
        <section id="tab-users" class="tab">
          <h2>Usuarios</h2>
          <div class="users-layout">
            <div class="user-form-card">
              <h3 id="user-form-title">Crear usuario</h3>
              <form id="user-form">
                <input type="hidden" id="user-id" />

                <label for="user-email">Email</label>
                <input type="email" id="user-email" />

                <label for="user-name">Nombre</label>
                <input type="text" id="user-name" />

                <label for="user-role">Rol</label>
                <select id="user-role">
                  <option value="admin">Admin</option>
                  <option value="user">User</option>
                </select>

                <label for="user-password">Contraseña</label>
                <input type="password" id="user-password" />

                <label for="user-password2">Repetir contraseña</label>
                <input type="password" id="user-password2" />

                <div class="user-form-actions">
                  <button type="submit">Guardar</button>
                  <button
                    type="button"
                    id="user-cancel-btn"
                    class="secondary-btn"
                  >
                    Cancelar
                  </button>
                </div>

                <p id="users-message" class="message"></p>
              </form>
              <p class="hint">
                Para crear un usuario nuevo, la contraseña es obligatoria. Para
                editar, podés dejarla vacía si no la querés cambiar.
              </p>
            </div>

            <div class="user-table-card">
              <h3>Listado de usuarios</h3>
              <table class="users-table">
                <thead>
                  <tr>
                    <th>ID</th>
                    <th>Email</th>
                    <th>Nombre</th>
                    <th>Rol</th>
                    <th>Creado</th>
                    <th>Acciones</th>
                  </tr>
                </thead>
                <tbody id="users-table-body">
                  <!-- filas generadas por JS -->
                </tbody>
              </table>
            </div>
          </div>
        </section>
      </section>
    </main>

    <script src="script.js" defer></script>
  </body>
</html>
